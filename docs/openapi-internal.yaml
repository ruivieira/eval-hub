openapi: 3.1.0
info:
  title: Eval Hub
  description: API REST server for evaluation backend orchestration
  version: 0.0.1
  contact:
    name: API Support
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0
servers:
  - url: http://localhost:8080
    description: Local development server
  - url: https://api.example.org
    description: Production server
security: []
tags:
  - name: Evaluations
    description: Evaluation job management endpoints
  - name: Benchmarks
    description: Benchmark management endpoints
  - name: Collections
    description: Benchmark collection management endpoints
    x-internal: true
  - name: Providers
    description: Evaluation provider endpoints
  - name: Health
    description: Health check endpoints
  - name: Metrics
    description: Metrics and monitoring endpoints
    x-internal: true
  - name: Documentation
    description: API documentation endpoints
    x-internal: true
paths:
  /api/v1/health:
    get:
      summary: Health Check
      description: Health check endpoint.
      operationId: health_check_api_v1_health_get
      tags:
        - Health
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HealthResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /metrics:
    get:
      x-internal: true
      summary: Metrics
      description: Prometheus metrics endpoint with MLflow health check.
      operationId: metrics_metrics_get
      tags:
        - Metrics
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /openapi.yaml:
    get:
      x-internal: true
      summary: OpenAPI specification
      description: Returns the OpenAPI 3.1.0 specification for this API
      operationId: openapi_yaml_get
      tags:
        - Documentation
      responses:
        '200':
          description: OpenAPI specification
          content:
            application/yaml:
              schema:
                type: string
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /docs:
    get:
      x-internal: true
      summary: API documentation
      description: Interactive API documentation (Swagger UI)
      operationId: getDocs
      tags:
        - Documentation
      responses:
        '200':
          description: Swagger UI HTML page
          content:
            text/html:
              schema:
                type: string
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/v1/evaluations/jobs:
    post:
      tags:
        - Evaluations
      summary: Create Evaluation
      description: Create and execute evaluation request using the simplified benchmark schema.
      operationId: create_evaluation_api_v1_evaluations_jobs_post
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EvaluationJobConfig'
      responses:
        '202':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EvaluationJobResource'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    get:
      tags:
        - Evaluations
      summary: List Evaluations
      description: List all evaluation requests.
      operationId: list_evaluations_api_v1_evaluations_jobs_get
      parameters:
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            maximum: 100
            minimum: 1
            description: Maximum number of evaluations to return
            default: 50
            title: Limit
          description: Maximum number of evaluations to return
        - name: offset
          in: query
          required: false
          schema:
            type: integer
            minimum: 0
            description: Offset for pagination
            default: 0
            title: Offset
          description: Offset for pagination
        - name: status_filter
          in: query
          required: false
          schema:
            type: string
            description: Filter by status
            title: Status Filter
          description: Filter by status
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EvaluationJobResourceList'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/v1/evaluations/jobs/{id}:
    get:
      tags:
        - Evaluations
      summary: Get Evaluation Status
      description: Get the status of an evaluation request.
      operationId: get_evaluation_status_api_v1_evaluations_jobs__id__get
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EvaluationJobResource'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags:
        - Evaluations
      summary: Cancel Evaluation
      description: Cancel a running evaluation.
      operationId: cancel_evaluation_api_v1_evaluations_jobs__id__delete
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            title: Id
        - name: hard_delete
          in: query
          required: false
          schema:
            type: boolean
            description: If `true`, delete the evaluation job permanently so that `GET /api/v1/evaluations/jobs/{id}` will return a 404.
            default: false
            title: Hard Delete
      responses:
        '204':
          description: Successful Response
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
  /api/v1/evaluations/jobs/{id}/events:
    post:
      x-internal: true
      tags:
        - Evaluations
      summary: Update Evaluation
      description: |
        Update the evaluation job status or results.

        Note that this endpoint is internal and should not be used by clients,
        eventually it will not be possible to call this endpoint without a special token.
      operationId: update_evaluation_api_v1_evaluations_jobs_id_update_post
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            title: Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StatusEvent'
            examples:
              request:
                summary: A request update with a completed status.
                description: A simple request update with a completed status.
                value:
                  benchmark_status_event:
                    id: toxicity
                    provider_id: garak
                    status: completed
                    metrics:
                      accuracy: 0.95
                    artifacts:
                      logs: /data/logs/1234567890.log
                    started_at: '2026-01-12T10:45:32Z'
                    completed_at: '2026-01-12T10:47:12Z'
      responses:
        '204':
          description: Successful Update
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/v1/evaluations/providers:
    get:
      tags:
        - Providers
      summary: List Providers
      description: List all registered evaluation providers.
      operationId: list_providers_api_v1_evaluations_providers_get
      parameters:
        - name: id
          in: query
          required: false
          schema:
            type: string
            description: Filter by provider ID
            title: Provider Id
          description: Filter by provider ID
        - name: benchmarks
          in: query
          required: false
          schema:
            type: boolean
            default: true
            description: Set to false to not include benchmarks supported by this provider in the response
            title: Benchmarks
          description: Include or exclude benchmarks supported by this provider in the response
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProviderResourceList'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/v1/evaluations/benchmarks:
    get:
      tags:
        - Benchmarks
      summary: List All Benchmarks
      description: List all available benchmarks across providers (similar to Llama Stack format).
      operationId: list_all_benchmarks_api_v1_evaluations_benchmarks_get
      parameters:
        - name: provider_id
          in: query
          required: false
          schema:
            type: string
            description: Filter by provider ID
            title: Provider Id
          description: Filter by provider ID
        - name: id
          in: query
          required: false
          schema:
            type: string
            description: Filter by benchmark ID
            title: Benchmark Id
          description: Filter by benchmark ID
        - name: category
          in: query
          required: false
          schema:
            type: string
            description: Filter by benchmark category
            title: Category
          description: Filter by benchmark category
        - name: tags
          in: query
          required: false
          schema:
            type: string
            description: Filter by tags (comma-separated)
            title: Tags
          description: Filter by tags (comma-separated)
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BenchmarkResourceList'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/v1/evaluations/collections:
    get:
      x-internal: true
      tags:
        - Collections
      summary: List Collections
      description: List all benchmark collections.
      operationId: list_collections_api_v1_evaluations_collections_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollectionResourceList'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      x-internal: true
      tags:
        - Collections
      summary: Create Collection
      description: Create a new collection.
      operationId: create_collection_api_v1_evaluations_collections_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CollectionConfig'
        required: true
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollectionResource'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/v1/evaluations/collections/{id}:
    get:
      x-internal: true
      tags:
        - Collections
      summary: Get Collection
      description: Get details of a specific collection.
      operationId: get_collection_api_v1_evaluations_collections__collection_id__get
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            title: Collection Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollectionResource'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      x-internal: true
      tags:
        - Collections
      summary: Update Collection
      description: Update an existing collection.
      operationId: update_collection_api_v1_evaluations_collections__collection_id__put
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            title: Collection Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CollectionConfig'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollectionResource'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      x-internal: true
      tags:
        - Collections
      summary: Patch Collection
      description: Partially update an existing collection.
      operationId: patch_collection_api_v1_evaluations_collections__collection_id__patch
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            title: Collection Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              title: Json Patch
              description: JSON Patch operation
              items:
                $ref: '#/components/schemas/PatchOperation'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollectionResource'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      x-internal: true
      tags:
        - Collections
      summary: Delete Collection
      description: Delete a collection.
      operationId: delete_collection_api_v1_evaluations_collections__collection_id__delete
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            title: Collection Id
      responses:
        '204':
          description: Success
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
components:
  schemas:
    HealthResponse:
      type: object
      description: Health check response
      properties:
        status:
          type: string
          description: Overall status (e.g. healthy, degraded)
        version:
          type: string
          description: Service version
        timestamp:
          type: string
          format: date-time
          description: Server timestamp
        components:
          type: object
          additionalProperties:
            type: object
            additionalProperties: true
          description: Per-component health
        uptime:
          type: integer
          description: Uptime in nanoseconds (or use string for duration)
        active_evaluations:
          type: integer
          description: Number of active evaluations
    Error:
      type: object
      description: Error response
      properties:
        message_code:
          type: string
          description: Machine-readable error code
        message:
          type: string
          description: Human-readable message
        trace:
          type: string
          description: Request trace or debug info
      required:
        - message_code
        - message
    HRef:
      type: object
      description: Hypermedia reference
      properties:
        href:
          type: string
          description: URI reference
    Page:
      type: object
      description: Generic pagination schema
      properties:
        first:
          $ref: '#/components/schemas/HRef'
          description: Link to first page
        next:
          $ref: '#/components/schemas/HRef'
          description: Link to next page (omit if none)
        limit:
          type: integer
          description: Page size
        total_count:
          type: integer
          description: Total number of items
    Resource:
      type: object
      description: Base resource fields
      properties:
        id:
          type: string
          description: Unique identifier
        tenant:
          type: string
          description: Tenant for scoping
        created_at:
          type: string
          format: date-time
          description: Creation timestamp
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp
    MessageInfo:
      type: object
      description: Message from a downstream service
      properties:
        message:
          type: string
          description: Human-readable message
        message_code:
          type: string
          description: Machine-readable code
    EvaluationResource:
      type: object
      description: Evaluation resource (base fields for an evaluation)
      allOf:
        - $ref: '#/components/schemas/Resource'
        - type: object
          properties:
            mlflow_experiment_id:
              type: string
              description: MLFlow experiment ID
            message:
              $ref: '#/components/schemas/MessageInfo'
              description: Status or error message
    OverallState:
      type: string
      enum:
        - pending
        - running
        - completed
        - failed
        - cancelled
        - partially_failed
      description: Overall evaluation job state
    EvaluationJobState:
      type: object
      description: Overall evaluation job state and message
      required:
        - state
        - message
      properties:
        state:
          $ref: '#/components/schemas/OverallState'
        message:
          $ref: '#/components/schemas/MessageInfo'
    State:
      type: string
      enum:
        - pending
        - running
        - completed
        - failed
        - cancelled
      description: Evaluation or benchmark state
    BenchmarkStatus:
      type: object
      description: Status of an individual benchmark in an evaluation
      properties:
        provider_id:
          type: string
          description: Provider ID
        id:
          type: string
          description: Benchmark ID
        status:
          $ref: '#/components/schemas/State'
        error_message:
          $ref: '#/components/schemas/MessageInfo'
        started_at:
          type: string
          format: date-time
          description: RFC3339 start time
        completed_at:
          type: string
          format: date-time
          description: RFC3339 completion time
    EvaluationJobStatus:
      type: object
      description: Current status of an evaluation job
      allOf:
        - $ref: '#/components/schemas/EvaluationJobState'
        - type: object
          properties:
            benchmarks:
              type: array
              items:
                $ref: '#/components/schemas/BenchmarkStatus'
              description: Per-benchmark status
    BenchmarkResult:
      type: object
      description: Result of a single benchmark run
      properties:
        id:
          type: string
          description: Benchmark ID
        provider_id:
          type: string
          description: Provider ID
        metrics:
          type: object
          additionalProperties: true
          description: Metric name to value
        artifacts:
          type: object
          additionalProperties: true
          description: Artifact key to location/info
        mlflow_run_id:
          type: string
          description: MLFlow run ID
        logs_path:
          type: string
          description: Path to logs
    EvaluationJobResults:
      type: object
      description: Results section for an evaluation job
      properties:
        benchmarks:
          type: array
          items:
            $ref: '#/components/schemas/BenchmarkResult'
          description: Per-benchmark results
        mlflow_experiment_url:
          type: string
          description: URL to MLFlow experiment
    ModelRef:
      type: object
      description: Model specification for evaluation requests
      required:
        - url
        - name
      properties:
        url:
          type: string
          description: Model URL
        name:
          type: string
          description: Model name
    PassCriteria:
      type: object
      description: Pass/fail threshold criteria
      properties:
        threshold:
          type: number
          format: float
          default: 0
          description: Threshold value
    Ref:
      type: object
      description: Reference by ID
      required:
        - id
      properties:
        id:
          type: string
          description: Unique identifier
    PrimaryScore:
      type: object
      description: Primary score metric configuration
      properties:
        metric:
          type: string
          description: Metric name
        lower_is_better:
          type: boolean
          default: false
          description: Whether lower values indicate better performance
    BenchmarkConfig:
      type: object
      description: Reference to a benchmark in a collection or evaluation
      allOf:
        - $ref: '#/components/schemas/Ref'
        - type: object
          required:
            - provider_id
          properties:
            provider_id:
              type: string
              description: Evaluation provider ID
            weight:
              type: number
              format: float
              minimum: 0
              maximum: 1
              description: Weight of this benchmark
            primary_score:
              $ref: '#/components/schemas/PrimaryScore'
            pass_criteria:
              $ref: '#/components/schemas/PassCriteria'
            parameters:
              type: object
              additionalProperties: true
              description: Benchmark-specific parameters
    ExperimentTag:
      type: object
      description: Tag on an experiment (e.g. MLFlow)
      required:
        - key
        - value
      properties:
        key:
          type: string
          maxLength: 250
          description: Tag key
        value:
          type: string
          maxLength: 5000
          description: Tag value
    ExperimentConfig:
      type: object
      description: Configuration for MLFlow experiment tracking
      properties:
        name:
          type: string
          description: Experiment name
        tags:
          type: array
          items:
            $ref: '#/components/schemas/ExperimentTag'
          maxItems: 20
          description: Experiment tags
        artifact_location:
          type: string
          description: Artifact storage location
    EvaluationJobConfig:
      type: object
      description: Evaluation job request configuration
      required:
        - model
        - benchmarks
      properties:
        model:
          $ref: '#/components/schemas/ModelRef'
          description: Model to evaluate
        pass_criteria:
          $ref: '#/components/schemas/PassCriteria'
          description: Overall pass criteria
        benchmarks:
          type: array
          items:
            $ref: '#/components/schemas/BenchmarkConfig'
          minItems: 1
          description: Benchmarks to run
        collection:
          $ref: '#/components/schemas/Ref'
          description: Optional collection reference
        experiment:
          $ref: '#/components/schemas/ExperimentConfig'
          description: MLFlow experiment config
        custom:
          type: object
          additionalProperties: true
          description: Custom request data
    EvaluationJobResource:
      type: object
      description: Full evaluation job resource (response)
      allOf:
        - type: object
          properties:
            resource:
              $ref: '#/components/schemas/EvaluationResource'
              description: Resource and evaluation metadata
            status:
              $ref: '#/components/schemas/EvaluationJobStatus'
              description: Current status
            results:
              $ref: '#/components/schemas/EvaluationJobResults'
              description: Results when completed
        - $ref: '#/components/schemas/EvaluationJobConfig'
    EvaluationJobResourceList:
      type: object
      description: List of evaluation job resources with pagination
      allOf:
        - $ref: '#/components/schemas/Page'
        - type: object
          properties:
            items:
              type: array
              items:
                $ref: '#/components/schemas/EvaluationJobResource'
              description: Evaluation job resources
            errors:
              type: array
              items:
                type: string
              description: Non-fatal errors (e.g. partial list)
    BenchmarkStatusEvent:
      type: object
      description: Event payload to update benchmark status at runtime
      required:
        - provider_id
        - id
        - status
      properties:
        provider_id:
          type: string
          description: Provider ID
        id:
          type: string
          description: Benchmark ID
        status:
          $ref: '#/components/schemas/State'
        metrics:
          type: object
          additionalProperties: true
          description: Benchmark metrics
        artifacts:
          type: object
          additionalProperties: true
          description: Artifacts
        error_message:
          $ref: '#/components/schemas/MessageInfo'
        started_at:
          type: string
          format: date-time
        completed_at:
          type: string
          format: date-time
        mlflow_run_id:
          type: string
          description: MLFlow run ID
        logs_path:
          type: string
          description: Path to logs
    StatusEvent:
      type: object
      description: Status update event (e.g. for SSE)
      required:
        - benchmark_status_event
      properties:
        benchmark_status_event:
          $ref: '#/components/schemas/BenchmarkStatusEvent'
    BenchmarkResource:
      type: object
      description: Benchmark specification (from a provider)
      properties:
        id:
          type: string
          description: Benchmark ID
        provider_id:
          type: string
          description: Provider ID
        name:
          type: string
          description: Benchmark name
        description:
          type: string
          description: Benchmark description
        category:
          type: string
          description: Category
        metrics:
          type: array
          items:
            type: string
          description: Metric names
        num_few_shot:
          type: integer
          description: Number of few-shot examples
        dataset_size:
          type: integer
          description: Dataset size
        tags:
          type: array
          items:
            type: string
          description: Tags
    ProviderResource:
      type: object
      description: Evaluation provider (configuration and available benchmarks)
      properties:
        id:
          type: string
          description: Provider ID
        name:
          type: string
          description: Provider name
        description:
          type: string
          description: Provider description
        type:
          type: string
          description: Provider type
        benchmarks:
          type: array
          items:
            $ref: '#/components/schemas/BenchmarkResource'
          description: Benchmarks offered by this provider
    ProviderResourceList:
      type: object
      description: List of providers (no pagination links)
      properties:
        total_count:
          type: integer
          description: Total number of providers
        items:
          type: array
          items:
            $ref: '#/components/schemas/ProviderResource'
          description: Provider resources
    BenchmarkResourceList:
      type: object
      description: List of benchmarks
      properties:
        total_count:
          type: integer
          description: Total number of benchmarks
        items:
          type: array
          items:
            $ref: '#/components/schemas/BenchmarkResource'
          description: Benchmark resources
    CollectionConfig:
      type: object
      description: Request to create or update a collection
      properties:
        name:
          type: string
          description: Collection name
        description:
          type: string
          description: Optional description
        tags:
          type: array
          items:
            type: string
          description: Tags
        custom:
          type: object
          additionalProperties: true
          description: Custom key-value data
        pass_criteria:
          $ref: '#/components/schemas/PassCriteria'
          description: Pass criteria for the collection
        benchmarks:
          type: array
          items:
            $ref: '#/components/schemas/BenchmarkConfig'
          description: Benchmarks in the collection
      required:
        - benchmarks
    CollectionResource:
      type: object
      description: Collection resource (stored entity)
      allOf:
        - type: object
          properties:
            resource:
              $ref: '#/components/schemas/Resource'
              description: Resource metadata
            type:
              type: string
              enum:
                - system
                - owned
              description: Type of collection. 'system' collections are created by the system and are not editable, 'owned' collections are created by the user and are editable.
        - $ref: '#/components/schemas/CollectionConfig'
    CollectionResourceList:
      type: object
      description: List of collection resources with pagination
      allOf:
        - $ref: '#/components/schemas/Page'
        - type: object
          properties:
            items:
              type: array
              items:
                $ref: '#/components/schemas/CollectionResource'
              description: Collection resources
    PatchOp:
      type: string
      enum:
        - replace
        - add
        - remove
      description: Patch operation type
    PatchOperation:
      type: object
      description: Single JSON patch operation
      properties:
        op:
          $ref: '#/components/schemas/PatchOp'
        path:
          type: string
          description: JSON Pointer path
        value:
          description: Value for add/replace (omit for remove)
      required:
        - op
        - path
  examples:
    BadRequestError:
      summary: Bad request error with status code 400
      value:
        message: The field 'state' is not valid.
        message_code: invalid_value
        trace: b12692e1-8582-4628-88ca-7a13fefb73e2
    AuthenticationError:
      summary: Authentication error with status code 401
      value:
        message: The bearer token is not valid.
        message_code: invalid_auth_token
        trace: b12692e1-8582-4628-88ca-7a13fefb73e2
    AuthorizationError:
      summary: Authorization error with status code 403
      value:
        message: The user does not have access to the endpoint.
        message_code: endpoint_access_forbidden
        trace: b12692e1-8582-4628-88ca-7a13fefb73e2
    NotFoundError:
      summary: Not found error with status code 404
      value:
        message: The resource was not found.
        message_code: not_found
        trace: b12692e1-8582-4628-88ca-7a13fefb73e2
    ConflictError:
      summary: Conflict error with status code 409
      value:
        message: The job 'f02b16a2-1990-4626-b24d-1cff3febdbfb' can not be cancelled because it is 'completed'.
        message_code: conflict
        trace: b12692e1-8582-4628-88ca-7a13fefb73e2
  responses:
    BadRequest:
      description: Bad Request
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          examples:
            BadRequestError:
              $ref: '#/components/examples/BadRequestError'
    Unauthorized:
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          examples:
            AuthenticationError:
              $ref: '#/components/examples/AuthenticationError'
    Forbidden:
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          examples:
            AuthorizationError:
              $ref: '#/components/examples/AuthorizationError'
    NotFound:
      description: Not Found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          examples:
            NotFoundError:
              $ref: '#/components/examples/NotFoundError'
    Conflict:
      description: Conflict
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          examples:
            ConflictError:
              $ref: '#/components/examples/ConflictError'
